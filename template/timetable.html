{% extends 'base.html' %}
{% load i18n %}
{% block content %}
    <div class="container">
        <div class="container">

            <div class="row">
                <div class="col-md-12">
                    <h2 class="text-center">
                        {% trans 'Timetable' %}
                    </h2>
                </div>
                            <ul class="nav nav-justified col-sm-1" style="background: #000;">
                <li class="dropdown">
                    <div class="dropper"><a href="#" class="dropdown-toggle"
                                            data-toggle="dropdown">{% trans 'By room' %}</a>
                        <ul class="dropdown-menu">
                            {% for room in rooms %}
                                <li><a href="{% url 'room' room.0 %}">{{ room.0 }}</a></li>
                            {% endfor %}
                        </ul>
                    </div>
                </li>
                <li class="dropdown">
                    <div class="dropper"><a href="#" class="dropdown-toggle"
                                            data-toggle="dropdown">{% trans 'By teacher' %}</a>
                        <ul class="dropdown-menu">
                            {% for teacher in teachers %}
                                <li><a href="{% url 'teacher_table' teacher.user %}">{{ teacher.user.username }}</a></li>
                            {% endfor %}
                        </ul>
                    </div>
                </li>
                <li><a href="{% url 'self_table' %}">{% trans 'My timetable' %} </a></li>

            </ul>
                <div id="no-more-tables">
                    <div class="table-responsive">
                        <table class="col-sm-12 table table-bordered table-striped table- cf " id="dataTable"
                               width="100%" cellspacing="0">
                            <thead class="cf">
                            <tr>
                                <th></th>
                                {% for time_slot in time_slots %}
                                    <th>{{ time_slot.0 }}</th>
                                {% endfor %}
                            </tr>
                            </thead>
                            <tbody>
                            {% for i in class_matrix %}
                                <tr>
                                    {% for j in i %}
                                        {% if forloop.counter == 1 %}
                                            <td><b>{{ j }}</b></td>
                                        {% elif j == True %}
                                            <td></td>
                                        {% else %}
                                            <td>
                                                {% for k in j %}
                                                    <a href="{{ k.lesson.get_absolute_url }}">
                                                        {{ k.lesson.name }} - {{ k.room }}
                                                    </a><br>
                                                {% endfor %}
                                            </td>
                                        {% endif %}
                                    {% endfor %}
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>


    </div>

{% endblock %}